# üõ°Ô∏è Production Backup Strategy ‚Äî SmartInvent

–Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è Release Engineer / DevOps —â–æ–¥–æ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è, –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó –ø—Ä–æ—Ü–µ—Å—É.

---

## üß† 1. –°—Ç—Ä–∞—Ç–µ–≥—ñ—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è

–ì–∞—Ä–∞–Ω—Ç—ñ—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –¥–∞–Ω–∏—Ö: –±–∞–∑–∞ –¥–∞–Ω–∏—Ö, –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó, –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫—ñ —Ñ–∞–π–ª–∏, –ª–æ–≥–∏. –ó–∞–±–µ–∑–ø–µ—á—É—î—Ç—å—Å—è —è–∫ **–ø–æ–≤–Ω–∏–º**, —Ç–∞–∫ —ñ **—ñ–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∏–º** –±–µ–∫–∞–ø–æ–º —ñ–∑ —Ä–æ—Ç–∞—Ü—ñ—î—é –∫–æ–ø—ñ–π.

---

## üóÇÔ∏è 2. –¢–∏–ø–∏ —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π

| –¢–∏–ø                 | –û–ø–∏—Å                                                                 |
|---------------------|----------------------------------------------------------------------|
| **–ü–æ–≤–Ω–∞ (Full)**     | –ü–æ–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –ë–î, –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π, –ª–æ–≥—ñ–≤, –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏—Ö –¥–∞–Ω–∏—Ö       |
| **–Ü–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞**   | –õ–∏—à–µ –∑–º—ñ–Ω–∏ –ø—ñ—Å–ª—è –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –±–µ–∫–∞–ø—É                                   |
| **–î–∏—Ñ–µ—Ä–µ–Ω—Ü—ñ–∞–ª—å–Ω–∞**   | –£—Å—ñ –∑–º—ñ–Ω–∏ –ø—ñ—Å–ª—è –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –ø–æ–≤–Ω–æ–≥–æ –±–µ–∫–∞–ø—É                            |

---

## ‚è≤Ô∏è 3. –ß–∞—Å—Ç–æ—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç               | –¢–∏–ø           | –ß–∞—Å—Ç–æ—Ç–∞         |
|--------------------------|----------------|------------------|
| **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö**           | –ü–æ–≤–Ω–∞          | –©–æ–¥–µ–Ω–Ω–æ (2:00)   |
|                          | –Ü–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞ | –ö–æ–∂–Ω—ñ 4 –≥–æ–¥.     |
| **–§–∞–π–ª–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π**   | –ü–æ–≤–Ω–∞          | –©–æ—Ç–∏–∂–Ω—è          |
| **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫—ñ –¥–∞–Ω—ñ**   | –ü–æ–≤–Ω–∞          | –©–æ—Ç–∏–∂–Ω—è          |
| **–õ–æ–≥–∏ —Å–∏—Å—Ç–µ–º–∏**         | –Ü–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞ | –©–æ–¥–Ω—è            |

---

## üì¶ 4. –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ç–∞ —Ä–æ—Ç–∞—Ü—ñ—è –∫–æ–ø—ñ–π

- –ü–æ–≤–Ω—ñ –∫–æ–ø—ñ—ó –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è **30 –¥–Ω—ñ–≤**
- –Ü–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ñ ‚Äî **7 –¥–Ω—ñ–≤**
- –†–æ–∑–º—ñ—â–µ–Ω–Ω—è: –∑–æ–≤–Ω—ñ—à–Ω—ñ–π –¥–∏—Å–∫ –∞–±–æ —Ö–º–∞—Ä–∞ (S3, Google Drive, —ñ–Ω—à–µ)
- –†–æ—Ç–∞—Ü—ñ—è: –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö –∫–æ–ø—ñ–π —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç

---

## üîê 5. –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è

> –£—Å—ñ —Å–∫—Ä–∏–ø—Ç–∏ –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è –≤ `scripts/backup/`

### üî∏ backup-db.bat
```bat
@echo off
set DB_NAME=smartinvent
set DB_USER=postgres
set BACKUP_DIR=C:\Backups\DB
set DATESTAMP=%date:~10,4%-%date:~4,2%-%date:~7,2%

mkdir "%BACKUP_DIR%\%DATESTAMP%"
pg_dump -U %DB_USER% -F c -b -v -f "%BACKUP_DIR%\%DATESTAMP%\smartinvent.backup" %DB_NAME%
