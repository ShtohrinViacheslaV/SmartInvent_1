# Production Deployment Guide (Windows)

–Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è Release Engineer / DevOps —â–æ–¥–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è SmartInvent —É production-—Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ –Ω–∞ Windows.

---

## üñ•Ô∏è 1. –í–∏–º–æ–≥–∏ –¥–æ –∞–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è

### –°–µ—Ä–≤–µ—Ä (Windows –º–∞—à–∏–Ω–∞ –∑ backend —ñ PostgreSQL)

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –≤–∏–º–æ–≥–∏           |
|-----------|-----------------------------|
| –û–°        | Windows 10/11 –∞–±–æ Server 2019+ |
| CPU       | 2 —è–¥—Ä–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ 4)    |
| RAM       | 4 –ì–ë (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ 8 –ì–ë)   |
| –î–∏—Å–∫      | 20 –ì–ë SSD (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ 50+ –ì–ë –¥–ª—è –ë–î —ñ –ª–æ–≥—ñ–≤) |

---

## üíΩ 2. –ù–µ–æ–±—Ö—ñ–¥–Ω–µ –ø—Ä–æ–≥—Ä–∞–º–Ω–µ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è

- Java Development Kit (JDK) 17: https://www.java.com/releases/
- PostgreSQL 13+: https://www.postgresql.org/download/windows/
- Git for Windows: https://git-scm.com/downloads
- Gradle (–∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `gradlew.bat`)
- (–û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ) Docker Desktop
---

## üåê 3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–µ—Ä–µ–∂—ñ

- –í—ñ–¥–∫—Ä–∏—Ç–∏ –ø–æ—Ä—Ç **8080** —É —Ñ–∞—î—Ä–≤–æ–ª—ñ Windows (–∞–±–æ –ø–æ—Ä—Ç, —è–∫–∏–π –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ –¥–ª—è –±–µ–∫–µ–Ω–¥—É)
- –í—ñ–¥–∫—Ä–∏—Ç–∏ –ø–æ—Ä—Ç **5432** –¥–ª—è PostgreSQL (—Ç—ñ–ª—å–∫–∏ –¥–ª—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ—Ö –ø—ñ–¥–∫–ª—é—á–µ–Ω—å!)
- –†–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Å—Ç–∞—Ç–∏—á–Ω—É IP-–∞–¥—Ä–µ—Å—É –∞–±–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –¥–æ–º–µ–Ω

---

## üß∞ 4. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è PostgreSQL

### –ü—ñ–¥ —á–∞—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è:

- –û–±–µ—Ä—ñ—Ç—å –ø–∞—Ä–æ–ª—å –¥–ª—è `postgres`
- –î–æ–∑–≤–æ–ª—å—Ç–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —á–µ—Ä–µ–∑ –º–µ—Ä–µ–∂—É (—É `pg_hba.conf` –¥–æ–∑–≤–æ–ª–∏—Ç–∏ md5)
- –£ `postgresql.conf` –∑–º—ñ–Ω–∏—Ç–∏:

    - `listen_addresses = '*'` (–¥–ª—è –¥–æ—Å—Ç—É–ø—É –∑ —ñ–Ω—à–∏—Ö –º–∞—à–∏–Ω)
    - `port = 5432` (–∞–±–æ —ñ–Ω—à–∏–π, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)


## üöÄ 5. –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –∫–æ–¥—É

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Git + Gradle Wrapper

1. **–ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π** –Ω–∞ —Å–µ—Ä–≤–µ—Ä

   –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Git –¥–ª—è –∫–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é:

   ```bash
   git clone https://github.com/ShtohrinViacheslaV/SmartInvent_1.git
    ```
   
2.   –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –∫–∞—Ç–∞–ª–æ–≥—É –∑ –±–µ–∫–µ–Ω–¥–æ–º:

   ```bash
    cd SmartInvent_1\backend
    ```
3.   –ü–æ–±—É–¥—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Gradle Wrapper:

   ```bash
    gradlew.bat build
    ```
4.   –ó–∞–ø—É—Å—Ç—ñ—Ç—å –¥–æ–¥–∞—Ç–æ–∫:

   ```bash
    java -jar build\libs\backend-0.0.1-SNAPSHOT.jar
    ```
5.   –¢–µ–ø–µ—Ä —Å–µ—Ä–≤–µ—Ä –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –∑–∞ –∞–¥—Ä–µ—Å–æ—é:

   ```bash
    http://<IP_–∞–¥—Ä–µ—Å–∞>:8080
    ```


### –í–∞—Ä—ñ–∞–Ω—Ç 2: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Docker –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è

1. **–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Docker**   (https://www.docker.com/products/docker-desktop)
2. **–°—Ç–≤–æ—Ä—ñ—Ç—å Dockerfile —É –±–µ–∫–µ–Ω–¥—ñ:**
   ```bash
   FROM openjdk:17-jdk-slim

    WORKDIR /app
    COPY . /app

    RUN ./gradlew build

    CMD ["java", "-jar", "build/libs/backend-0.0.1-SNAPSHOT.jar"]

    ```
3. **–ü–æ–±—É–¥—É–π—Ç–µ –æ–±—Ä–∞–∑:**

   ```bash
    docker build -t smartinvent-backend .
    ```
4. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:**

   ```bash
    docker run -p 8080:8080 smartinvent-backend
    ```



## ‚úÖ 6. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–∞—Ü–µ–∑–¥–∞—Ç–Ω–æ—Å—Ç—ñ

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ API:

1.   GET-–∑–∞–ø–∏—Ç –¥–æ `/api/health`:

    http://<IP_–∞–¥—Ä–µ—Å–∞>:8080/api/health


2.   –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ PostgreSQL:

    psql -h <IP_–∞–¥—Ä–µ—Å–∞> -U smartuser -d smartinvent


3.  –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Android-–¥–æ–¥–∞—Ç–∫—É
    - –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å APK –Ω–∞ Android-–ø—Ä–∏—Å—Ç—Ä—ñ–π
    - –í–≤–µ–¥—ñ—Ç—å IP-–∞–¥—Ä–µ—Å—É —Å–µ—Ä–≤–µ—Ä–∞ —É –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è—Ö –¥–æ–¥–∞—Ç–∫—É
    - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å URL:
    

    private static final String BASE_URL = "http://<IP_–∞–¥—Ä–µ—Å–∞>:8080/";

